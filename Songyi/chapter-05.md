# 05장: 리액트와 상태 관리 라이브러리

## 5.1 상태 관리는 왜 필요한가?

### 웹 애플리케이션에서 상태로 분류될 수 있는 것

- UI: 상호 작용이 가능한 모든 요소의 현재 값
- URL: 브라우저에서 관리되고 있는 상태값
- Form(폼): loading, submit, disabled, validation 등
- 서버에서 가져온 값: 클라이언트에서 서버로 요청을 통해 가져온 값

### Flux

#### Flux 패턴의 등장

- 양방향 데이터 바인딩
  - 어디서 어떤 일이 일어나서 이 상태가 변했는지 등을 추적하고 이해하기가 매우 어려운 상황
  - 뷰(HTML)가 모델(자바스크립트)을 변경할 수 있으며, 반대의 경우 모델도 뷰를 변경할 수 있음
- 양방향이 아닌 단방향으로 데이터 흐름을 변경하는 Flux 패턴이 등장
  - 데이터의 흐름이 단방향으로만 흐르기 때문에 데이터의 흐름을 추적하고 이해하기가 쉬워짐

#### Flux 패턴

- action(액션): 어떠한 작업을 처리할 액션과 그 액션 발생 시 함께 포함시킬 데이터
- dispatcher(디스패처): 액션을 전달받아 스토어에 보내는 역할
- store(스토어): 실제 상태에 따른 값을 저장하고 상태가 변경되면 뷰에게 알려주는 역할
- view(뷰): 사용자에게 보여지는 화면, 스토어에서 만들어진 데이터를 가져와 화면 렌더링

#### 단방향 데이터 흐름의 장단점

- 장점
  - 데이터의 흐름이 모두 액션이라는 한방향으로 줄어들기 때문에 데이터의 흐름을 추적하기 쉽고 코드를 이해하기가 한결 수월해집니다.
- 단점
  - 사용자의 입력에 따라 데이터를 갱신하고 화면을 어떻게 업데이트해야 하는지도 코드로 작성해야 하므로 코드량이 많아지고 복잡해집니다.

### Redux

- 리덕스는 Flux 패턴을 기반으로 만들어진 라이브러리 + Elm 아키텍처를 도입

#### Elm

- Elm: 웹페이지를 선언적으로 작성하기 위한 언어
- Elm 아키텍처 요소
  - 모델(Model): 애플리케이션의 상태를 나타내는 데이터
  - 뷰(View): 모델을 시각적인 요소로 변환(HTML)
  - 업데이트(Update): 사용자의 입력에 따라 모델을 업데이트하는 함수
- 데이터 흐름을 세 가지로 분류하고, 이를 단방향으로 강제해 웹 애플리케이션의 상태를 안정적으로 관리

#### Redux의 특징

- 하나의 상태 객체를 스토어에 저장해 두고, 이 객체를 업데이트하는 작업을 디스패치해 업데이트를 수행합니다.
- 웹 애플리케이션 상태에 대한 완전히 새로운 복사본을 반환한 다음, 애플리케이션에 새롭게 만들어진 상태를 전파합니다.
- 리덕스는 하고자 하는 일에 비해 구현을 위한 보일러플레이트가 많이 필요하다는 단점이 있습니다.

### Context API

- Context API: 리액트에서 상태를 전역적으로 관리할 수 있는 기능
- Context API는 상태 관리가 아닌 주입을 도와주는 기능이며, 랜더링을 막아주는 기능 또한 존재하지 않으니 사용할 때 주의가 필요합니다.

### React Query, SWR

- 훅과 state의 등장으로 이전에는 볼 수 없었던 방식의 상태 관리 등장
- React Query: 서버로부터 데이터를 가져오는 작업을 쉽게 할 수 있도록 도와주는 라이브러리
- SWR: React Query와 비슷한 기능을 제공하는 라이브러리
- 두 라이브러리 모두 HTTP 요청에 특화된 상태 관리 라이브러리입니다.
